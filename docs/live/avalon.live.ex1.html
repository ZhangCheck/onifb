<!DOCTYPE html>
<html>
    <head>
        <title>ms-live</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link type="text/css" rel="stylesheet" href="../style/avalon.doc.css"/>
        <script src="../avalon.js" ></script>
        <script src="../highlight/shCore.js"></script>

        <script>
            require(["live/avalon.live","textbox/avalon.textbox"], function() {
                var model = avalon.define("model", function(vm) {
                    vm.aaa = "<b>ddd</b>"
                    vm.live = function(e) {
                        avalon.log(this)
                        avalon.log(e.target)
                    }
                    vm.array = ["a", "b", "c", "d"]
                    vm.show = ""
                    vm.getIndex = function() {
                        vm.show = this.innerHTML
                    }
                    vm.focus = function(e) {
                        vm.show = e.type
                    }
                    vm.check = function(e) {
                        vm.show = e.type + " " + avalon(this).val()
                    }
                    vm.blur = function(e) {
                        vm.show = e.type
                    }
                });
                setTimeout(function() {
                    model.aaa = "<em>dddd</em>"
                }, 3000)
                setTimeout(function() {
                    model.aaa = "<em>3333</em>"
                }, 4000)
                avalon.scan()
            })
        </script> 
        <style>
            .red { color:#f00; }
             input,select{
                padding: 0.67861em 1em;
                line-height: 18px;
                border: 1px solid rgba(34, 36, 38, 0.15);
                border/*\**/: 1px solid #bdc7d1 \9;
                border-radius: 4px;
                outline:none
            }
             input:focus,select:focus{
                 border:1px solid #85b7d9;
             }
        </style>
    </head>
    <body >
        <div ms-controller="model">
            <div ms-html="aaa" ms-live-click="live"></div>
            <ul>
                <li ms-repeat="array" ms-live-click="getIndex">{{$index}}</li>
            </ul>
            <input ms-live-focus="focus" ms-live-blur="blur" />
            <input type="radio" name="aaa"  ms-live-change="check" value="111"/>
            <input  ms-live-change="check" type="radio" name="aaa" value="222"/>
            <input  ms-live-change="check" value="xxxx"/>
            <input  ms-live-change="check" value="xxxx" type="password"/>
            <textarea ms-widget="textbox"  ms-live-change="check">dddd</textarea>
            <select ms-live-change="check">
                <option>1111</option>
                <option>2222</option>
                <option>3333</option>
            </select>
            <select ms-live-change="check" multiple>
                <option>1111</option>
                <option>2222</option>
                <option>3333</option>
            </select>
            <div>{{show}}</div>
        </div >

        <div ms-skip>
            <pre class="brush: js; html-script: true; gutter: false; toolbar: false">
                &lt;!DOCTYPE HTML&gt;
                &lt;html&gt;
                &lt;head&gt;
                    &lt;meta charset='utf-8'/&gt;
                    &lt;title&gt;ms-live&lt;/title&gt;
                    &lt;script src='avalon.js'&gt;&lt;/script&gt;
                    &lt;style&gt;
                        .red { color:#f00; }
                    &lt;/style&gt;
                &lt;/head&gt;
                &lt;body  &gt;
                    &lt;div ms-controller="model"&gt;
                        &lt;div ms-html="aaa" ms-live-click="live"&gt;&lt;/div&gt;
                        &lt;ul&gt;
                            &lt;li ms-repeat="array" ms-live-click="getIndex"&gt;{{$index}}&lt;/li&gt;
                        &lt;/ul&gt;
                        &lt;input ms-live-focus="focus" ms-live-blur="blur" /&gt;
                        &lt;input type="radio" name="aaa"  ms-live-change="check" value="111"/&gt;&lt;input  ms-live-change="check" type="radio" name="aaa" value="222"/&gt;
                        &lt;input  ms-live-change="check" value="xxxx"/&gt; &lt;input  ms-live-change="check" value="xxxx" type="password"/&gt;
                        &lt;textarea ms-live-change="check"&gt;dddd&lt;/textarea&gt;
                        &lt;select ms-live-change="check"&gt;
                            &lt;option&gt;1111&lt;/option&gt;
                            &lt;option&gt;2222&lt;/option&gt;
                            &lt;option&gt;3333&lt;/option&gt;
                        &lt;/select&gt;
                        &lt;select ms-live-change="check" multiple&gt;
                            &lt;option&gt;1111&lt;/option&gt;
                            &lt;option&gt;2222&lt;/option&gt;
                            &lt;option&gt;3333&lt;/option&gt;
                        &lt;/select&gt;
                        &lt;div&gt;{{show}}&lt;/div&gt;
                    &lt;/div&gt;
                    &lt;script&gt;
                        require(["live/avalon.live"], function() {
                            var model = avalon.define("model", function(vm) {
                                vm.aaa = "<b>ddd</b>"
                                vm.live = function(e) {
                                    avalon.log(this)
                                    avalon.log(e.target)
                                }
                                vm.array = ["a", "b", "c", "d"]
                                vm.show = ""
                                vm.getIndex = function() {
                                    vm.show = this.innerHTML
                                }
                                vm.focus = function(e) {
                                    vm.show = e.type
                                }
                                vm.check = function(e) {
                                    vm.show = e.type + " " + avalon(this).val()
                                }
                                vm.blur = function(e) {
                                    vm.show = e.type
                                }
                            });
                            setTimeout(function() {
                                model.aaa = "<em>dddd</em>"
                            }, 3000)
                            setTimeout(function() {
                                model.aaa = "<em>3333</em>"
                            }, 4000)
                            avalon.scan()
                        })
                    &lt;/script&gt;
                &lt;/body&gt;
                &lt;/html&gt;
            </pre>
        </div>

    </body>
</html>