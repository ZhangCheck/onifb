<!DOCTYPE html>
<html>
    <head>
        <title>avalon类似新浪微博的@提示插件</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <link type="text/css" rel="stylesheet"  href="../highlight/shCore.css"/>
        <link type="text/css" rel="stylesheet" href="../style/avalon.doc.css"/>
        <script src="../avalon.js"></script>
        <script src="../highlight/shCore.js"></script>
        <script>
            require(["at/avalon.at"], function() {
                avalon.define("test", function(vm) {
                    vm.at = {
                        datalist: ["aaa", "aab", "aaaa", "aac", "ccc", "cc1", "ccaaccaa"],
                        minLength: 1
                    }
                    vm.$skipArray = ["at"]
                })
                avalon.scan()
            })
        </script>
    </head>
    <body>
        <div ms-controller="test">
            <textarea id="tt" ms-widget="at" placeholder="@后面填上a,或aa, c试试" style="width:300px;height:40px;"></textarea>
            <script type="text/javascript">
                var funPlaceholder = function(element) {
                    var placeholder = '';
                    // 检测浏览器是否支持placeholder
                    if (element && !("placeholder" in document.createElement("input")) && (placeholder = element.getAttribute("placeholder"))) {
                        element.onfocus = function() {
                            if (this.value === placeholder) {
                                this.value = "";
                            }
                            this.style.color = '';
                        };
                        element.onblur = function() {
                            if (this.value === "") {
                                this.value = placeholder;
                                this.style.color = 'graytext';
                            }
                        };

                        //样式初始化
                        if (element.value === "") {
                            element.value = placeholder;
                            element.style.color = 'graytext';
                        }
                    }
                };
                funPlaceholder(document.getElementById("tt"));
            </script>
            <pre class="brush:html;gutter:false;">
&lt;!DOCTYPE html&gt;;
&lt;html&gt;
    &lt;head&gt;
   
        &lt;meta charset="UTF-8"&gt;
        &lt;meta name="viewport" content="width=device-width"&gt;
        &lt;script src="avalon.js"&gt;
            
        &lt;/script&gt;
        &lt;script&gt;
            require(["avalon.at"], function(){
                avalon.define("test",function(vm){
                    vm.at = {
                        datalist : ["aaa", "aab", "aaaa", "aac", "ccc","cc1","ccaaccaa"],
                        minLength: 0
                    }
                    vm.$skipArray = ["at"]
                })
                avalon.scan()
            })
        &lt;/script&gt;
    &lt;/head&gt;
    &lt;body ms-controller="test"&gt;
        &lt;p&gt;&lt;a href="avalon.at.doc.html"&gt;文档&lt;/a&gt;&lt;/p&gt;
        &lt;textarea ms-widget="at" placeholder="@后面填上a,或aa, c试试" &gt;&lt;/textarea&gt;
    &lt;/body&gt;
&lt;/html&gt;
            </pre>
        </div>
    </body>
</html>
